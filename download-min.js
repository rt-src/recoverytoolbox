var count_try=0;getDownloadInfo=e=>{debug;var t=new XMLHttpRequest;var o=`${API}/api/repair/files/${e}/result`;t.open("GET",o,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&t.response&&(resp=JSON.parse(t.response),debug,resp&&(resp.Paid?(document.getElementById("rt-download-button").removeAttribute("hidden"),document.getElementById("rt-download-button").addEventListener("click",(()=>{"undefined"!=typeof gtag&&gtag("event","download_repeared_file"),window.open(resp.DownloadUrl,"_blank")}),!1)):!resp.Paid&&$_GET.ya_pay&&count_try<10&&setTimeout((()=>{getDownloadInfo(e),count_try++}),1e3)))},t.send()},getResultInfoByOrderId=e=>{debug;var t=new XMLHttpRequest;t.open("GET",`${API}/api/payments/getcid/${e}`,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&t.response&&(resp=JSON.parse(t.response),debug,resp&&resp.success&&getDownloadInfo(resp.downloadId))},t.send()};var $_GET=getParams();if($_GET&&$_GET.order_id)debug,getResultInfoByOrderId($_GET.order_id);else if($_GET&&$_GET.id)sessionStorage.setItem("recoverytoolbox.lastid",$_GET.id),getDownloadInfo($_GET.id);else{const e=sessionStorage.getItem("recoverytoolbox.lastid");e&&($_GET.id=e,getDownloadInfo($_GET.id))}